<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Rencontrez des coureurs et participez à des événements sportifs près de chez vous avec Meet & Run">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{% block title %}{% endblock %}</title>
    <link rel="icon" href="{{asset('img/logo_little.png')}}" type="image/png">
    {% block stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <link rel="stylesheet" href="{{ asset('css/style.css') }}">
    {{ encore_entry_link_tags('app') }}
    {% endblock %}


</head>

<body>

    <nav class="navbar">
        {% if app.user and not app.user.isBanned %}
        <div class="navbar__wrapper" id="navbarWrapper">
            <div class="nav__menu">
                <a href="{{ path('app_home')}}">Home</a>
                {% if app.user.isVerified %}
                <a href="{{ path('app_runners') }}">Runners</a>
                {% endif %}
                <a href="{{ path('app_events') }}">Courses</a>
                <a href="{{path('app_forum') }}">Forum</a>
            </div>
            <div class="nav__profil dropdown">
                <button class="dropdown-toggle" id="profilDropdown">
                    {{ app.user.firstName }} {{ app.user.lastName }}
                </button>
                <div class="dropdown-menu">
                    <a href="{{ path('app_profil', { 'id': app.user.id }) }}">Mon profil</a>
                    <a href="{{ path('app_user') }}">Mes données personnelles</a>
                    <a href="{{ path('app_logout') }}">Se déconnecter</a>
                </div>
            </div>
            <!-- Bouton pour fermer le menu -->
            <div class="nav__close" id="nav-close">
                <i class="fa-solid fa-xmark"></i>
            </div>
        </div>
        <div class="nav__toggle" id="nav-toggle">
            <i class="fa-solid fa-bars"></i>
        </div>
        {% else %}
        <div class="navbar__wrapper">
            <div class="nav__menu">
                <a href="{{ path('app_login') }}">Se connecter</a>
                <a href="{{ path('app_register') }}">S'inscrire</a>
            </div>
        </div>
        {% endif %}
    </nav>

    <main class="main-container">
        <div class="flash-container">
            {% for label, messages in app.flashes %}
            {% for message in messages %}
            <div class="flash-message flash-{{ label }}">
                {{ message }}
            </div>
            {% endfor %}
            {% endfor %}
        </div>
        {% if app.user and not app.user.isVerified %}
            <div class="verify-email-banner">
                Tu dois confirmer ton adresse e-mail pour profiter pleinement du site.
                <a href="{{ path('app_verify_email_resend') }}">Renvoyer l’email de confirmation</a>
            </div>
        {% endif %}
        {% block body %}{% endblock %}
    </main>

    <footer class="footer">
        <div class="footer__content">
            <div class="footer__brand">
                <h2>Meet&Run</h2>
                <p>Où chaque course commence par une rencontre</p>
            </div>

            <div class="footer__links">
                <h3>Navigation</h3>
                <ul>
                    {% if app.user %}

                    <li><a href="{{ path('app_home') }}">Home</a></li>
                    <li><a href="{{ path('app_runners') }}">Runners</a></li>
                    <li><a href="{{ path('app_events') }}">Courses</a></li>
                    <li><a href="{{ path('app_forum') }}">Forum</a></li>
                    {% else %}
                    <li><a href="{{ path('app_login') }}">Se connecter</a></li>
                    <li><a href="{{ path('app_register') }}">S'inscrire</a></li>
                    {% endif %}
                </ul>
            </div>

            <div class="footer__legal">
                <h3>Légal</h3>
                <ul>
                    <li><a href="#">Mentions légales</a></li>
                    <li><a href="#">Politique de confidentialité</a></li>
                    <li><a href="#">Conditions d'utilisation</a></li>
                </ul>
            </div>

            <div class="footer__social">
                <h3>Suivez-nous</h3>
                <div class="footer__icons">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>

        <div class="footer__bottom">
            <p>&copy; {{ "now"|date("Y") }} Meet&Run. Tous droits réservés.</p>
        </div>
    </footer>


    {% block javascripts %}
    {{ encore_entry_script_tags('app') }}
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 1500,
            once: true,
        });
    </script>
    <script src="{{ asset('js/script.js') }}"></script>
    <script src="{{ asset('js/cartesvg.js') }}"></script>
    {% endblock %}
</body>

</html>