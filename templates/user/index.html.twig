{% extends 'base.html.twig' %}

{% block title %}Hello UserController!{% endblock %}

{% block body %}
<div class="user">
    {% if not app.user %}
        <p><a class="btn btn-lg btn-primary" href=" {{path('app_login')}} ">Vous devez vous connecter</a></p>
    {% else %}    
        <h3>Bienvenue {{app.user.firstName}} {{app.user.lastName}} !!</h3>
        <p>Pour une expèrience complète, remplissez vtre profil</p>
    {% endif %}

    <div class="form-login">
        <figure>
            <img src="img/logo.png" alt="Logo du site">
        </figure>
        {{ form_errors(profilForm) }}
            
        {{ form_start(profilForm) }}
            {{ form_row(profilForm.dateOfBirth) }}
            {% if app.user.pictureProfilUrl %}
                <div class="existing-picture">
                    <p>Votre photo de profil actuelle :</p>
                    <img src="{{ asset(app.user.pictureProfilUrl) }}" alt="Photo de profil" class="img-thumbnail" width="150">
                </div>
            {% endif %}
            {{ form_row(profilForm.pictureProfilUrl) }}
            {{ form_row(profilForm.postalCode) }}
            {{ form_row(profilForm.city) }}
            {{ form_row(profilForm.sexe) }}
            {{ form_row(profilForm.bio) }}
            {{ form_row(profilForm.level) }}

            <div class="text-center">
            <button type="submit" class="btn btn-primary">Valider mon profil</button>
            </div>
        {{ form_end(profilForm) }}
    </div>
</div>
{% endblock %}
